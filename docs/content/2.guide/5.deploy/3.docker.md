# Deployment Docker

## Dockerfile

```Dockerfile
FROM node:17-alpine

RUN mkdir -p /usr/src/nuxt3-app
WORKDIR /usr/src/nuxt3-app
COPY package.json /usr/src/nuxt3-app/package.json
COPY . .

## When packaging on docker
# RUN npm install pnpm -g
# RUN pnpm i --shamefully-hoist
# RUN pnpm run build

EXPOSE 3000 

ENTRYPOINT ["node", ".output/server/index.mjs"]
```

## docker-compose

```ts
version: '3.7'

services:
  nuxt3_app:
    container_name: nuxt3_app
    build:
      context: .
      dockerfile: Dockerfile
    image: nuxt3_app:0.0.2
    volumes:
      - '.:/nuxt3-app'
      - '/nuxt3-app/node_modules'
    ports:
      - 3000:3000
    environment:
      - CHOKIDAR_USEPOLLING=true
```
